(function(e){function n(n){for(var a,i,c=n[0],s=n[1],l=n[2],d=0,m=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&m.push(o[i][0]),o[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(n);while(m.length)m.shift()();return r.push.apply(r,l||[]),t()}function t(){for(var e,n=0;n<r.length;n++){for(var t=r[n],a=!0,c=1;c<t.length;c++){var s=t[c];0!==o[s]&&(a=!1)}a&&(r.splice(n--,1),e=i(i.s=t[0]))}return e}var a={},o={app:0},r=[];function i(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=a,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)i.d(t,a,function(n){return e[n]}.bind(null,a));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=n,c=c.slice();for(var l=0;l<c.length;l++)n(c[l]);var u=s;r.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},1:function(e,n){},10:function(e,n){},11:function(e,n){},2:function(e,n){},3:function(e,n){},4:function(e,n){},"478d":function(e,n,t){},5:function(e,n){},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var a=t("2b0e"),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("CrowdFund")],1)},r=[],i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"content"},[t("div",{staticClass:"mnemonic"},[t("span",[e._v("助记词：")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.mnemonic,expression:"mnemonic"}],staticClass:"mnemonic",attrs:{type:"textarea",id:"mnemonic"},domProps:{value:e.mnemonic},on:{input:function(n){n.target.composing||(e.mnemonic=n.target.value)}}})]),t("div",[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"select",attrs:{name:"fruit"},on:{change:[function(n){var t=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var n="_value"in e?e._value:e.value;return n}));e.selected=n.target.multiple?t:t[0]},function(n){return e.selectFn(n)}]}},[t("option",{attrs:{value:""}},[e._v("选择网络")]),e._l(e.networks,(function(n){return t("option",{key:n.networkId,domProps:{value:n.id}},[e._v(e._s(n.name))])}))],2)]),t("div",[t("h4",[e._v("address： "+e._s(e.account))]),t("h4",[e._v("NONCE： "+e._s(e.nonce))]),t("h4",[e._v("Balance: "+e._s(e.balance)+" ether")])]),t("div",[t("div",[e._v("Nonce : "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.nonce,expression:"nonce"}],attrs:{id:"nonce"},domProps:{value:e.nonce},on:{input:function(n){n.target.composing||(e.nonce=n.target.value)}}})]),t("div",[e._v("Gas Price: "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.gasPrice,expression:"gasPrice"}],attrs:{id:"gasPrice",placeholder:"GWEI"},domProps:{value:e.gasPrice},on:{input:function(n){n.target.composing||(e.gasPrice=n.target.value)}}})]),t("div",[e._v("Gas Limit: "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.gasLimit,expression:"gasLimit"}],attrs:{id:"gas",placeholder:"gas limit"},domProps:{value:e.gasLimit},on:{input:function(n){n.target.composing||(e.gasLimit=n.target.value)}}})]),t("div",[e._v("Pay : "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.payETH,expression:"payETH"}],attrs:{id:"pay",placeholder:"(ether)"},domProps:{value:e.payETH},on:{input:function(n){n.target.composing||(e.payETH=n.target.value)}}})]),t("div",[e._v("To : "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.to,expression:"to"}],attrs:{id:"to",placeholder:"address"},domProps:{value:e.to},on:{input:function(n){n.target.composing||(e.to=n.target.value)}}})]),t("div",[e._v("Data : "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.sendData,expression:"sendData"}],attrs:{id:"data",placeholder:"0x00"},domProps:{value:e.sendData},on:{input:function(n){n.target.composing||(e.sendData=n.target.value)}}})])]),t("div",[t("button",{attrs:{disabled:e.dis},on:{click:e.signedTransaction}},[e._v("signedTransaction")])]),t("div",[e._v("SignData: "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.signData,expression:"signData"}],attrs:{id:"data"},domProps:{value:e.signData},on:{input:function(n){n.target.composing||(e.signData=n.target.value)}}})]),t("div",[t("button",{attrs:{disabled:e.dis},on:{click:e.sendSignedTransaction}},[e._v("sendSignedTransaction")])])])},c=[],s=t("62e3"),l=s["a"],u=(t("9bb5"),t("2877")),d=Object(u["a"])(l,i,c,!1,null,"5d252a20",null),m=d.exports,p={name:"app",components:{CrowdFund:m}},v=p,g=Object(u["a"])(v,o,r,!1,null,null,null),f=g.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(f)}}).$mount("#app")},6:function(e,n){},"62e3":function(e,n,t){"use strict";(function(e){var a=t("1da1"),o=(t("96cf"),t("a9e3"),t("d3b7"),t("25f0"),t("b680"),t("fb6a"),t("5cc6"),t("9a8c"),t("a975"),t("735e"),t("c1ac"),t("d139"),t("3a7b"),t("d5d6"),t("82f8"),t("e91f"),t("60bd"),t("5f96"),t("3280"),t("3fcc"),t("ca91"),t("25a1"),t("cd26"),t("3c5d"),t("2954"),t("649e"),t("219c"),t("170b"),t("b39a"),t("72f7"),t("d81d"),t("466d"),t("ac1f"),t("99e5")),r=t("29c9"),i=t("8d23").Transaction,c=t("a62e").default,s=t("3b36"),l=s.hdkey,u=t("b671");n["a"]={name:"CrowdFund",data:function(){return{mnemonic:"script desert mix cabbage drastic inner paper dinner replace innocent material cheap",networks:[{id:0,name:"Main Net",networkId:"1",chainId:"1",label:"mainnet"},{id:1,name:"Ropsten test network",networkId:"3",chainId:"3",label:"ropsten"},{id:2,name:"Rinkeby test network",networkId:"4",chainId:"4",label:"rinkeby"},{id:3,name:"Goerli test network",networkId:"5",chainId:"5",label:"goerli"},{id:4,name:"Kovan test network",networkId:"42",chainId:"42",label:"kovan"}],myWeb3:null,chainId:null,chainLabel:null,selected:"",dis:!0,account:null,balance:null,nonce:null,gasPrice:null,gasLimit:null,payETH:null,to:null,sendData:null,signData:null}},methods:{enableEthereum:function(){console.log("click button"),window.ethereum.request({method:"eth_requestAccounts"}),this.getAccount()},selectFn:function(e){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var a,i,c,s,d,m,p,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.target.value,""!==a){t.next=5;break}console.log("未选择网络"),t.next=32;break;case 5:if(i=n.networks[a],n.chainLabel=i.label,n.chainId=Number(i.chainId),console.log(i.label),c="https://"+n.chainLabel+".infura.io/v3/d3d7efacf489482785f091bbf019f2a9",console.log(c),n.myWeb3=new o(new o.providers.HttpProvider(c)),s=n.myWeb3,null!==n.mnemonic){t.next=16;break}return console.log("请填入助记词！"),t.abrupt("return");case 16:return t.next=18,r.mnemonicToSeed(n.mnemonic);case 18:return d=t.sent,console.log(n.mnemonic),t.next=22,l.fromMasterSeed(d);case 22:return m=t.sent,t.next=25,m.derivePath("m/44'/60'/0'/0/0");case 25:return p=t.sent,t.next=28,u.pubToAddress(p._hdkey._publicKey,!0);case 28:v=t.sent,n.account="0x"+v.toString("hex"),s.eth.getTransactionCount(n.account).then((function(e){n.nonce=e,console.log(e)})),s.eth.getBalance(n.account).then((function(e){n.balance=(e/1e18).toFixed(4),console.log(e),n.dis=!1}));case 32:case"end":return t.stop()}}),t)})))()},signedTransaction:function(){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var a,o,s,d,m,p,v,g,f,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=n.myWeb3,t.next=3,c.forCustomChain(n.chainLabel,{name:n.chainLabel,networkId:n.chainId,chainId:n.chainId},"petersburg");case 3:return o=t.sent,console.log(o),t.next=7,r.mnemonicToSeed(n.mnemonic);case 7:return s=t.sent,t.next=10,l.fromMasterSeed(s);case 10:return d=t.sent,t.next=13,d.derivePath("m/44'/60'/0'/0/0");case 13:m=t.sent,p=u.bufferToHex(m._hdkey._privateKey),v=e.from(p.slice(2),"hex"),console.log("account:",n.account),console.log("nonce:",n.nonce),console.log("to:",n.to),g=a.utils.toHex(1e18*n.payETH),console.log("value:",g),f=a.utils.toHex(1e9*n.gasPrice),console.log("gasPrice:",f),h=a.utils.toHex(n.gasLimit),console.log("gas:",h),console.log("data:",n.sendData),a.eth.getTransactionCount(n.account).then((function(e){console.log(e);var t={nonce:Number(n.nonce),from:n.account,to:n.to,value:g,gasPrice:f,gas:h,data:n.sendData},r=new i(t,{common:o});r.sign(v),n.serializedTx=r.serialize(),n.signData="0x"+n.serializedTx.toString("hex"),console.log("hash："+a.utils.sha3(n.serializedTx)),console.log("sign： 0x"+n.serializedTx.toString("hex"))}));case 27:case"end":return t.stop()}}),t)})))()},sendSignedTransaction:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var t,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t=e.myWeb3,a=function(e){return new Uint8Array(e.match(/.{1,2}/g).map((function(e){return parseInt(e,16)})))},o=a(e.signData.slice(2)),console.log("hash："+t.utils.sha3(o)),t.eth.sendSignedTransaction(e.signData).on("transactionHash",console.log).on("receipt",console.log).on("error",console.error);case 5:case"end":return n.stop()}}),n)})))()}}}}).call(this,t("1c35").Buffer)},7:function(e,n){},8:function(e,n){},9:function(e,n){},"9bb5":function(e,n,t){"use strict";t("478d")}});
//# sourceMappingURL=app.1c531259.js.map